---
title: 数据链路层知识点
publish: true
description: 记录了一些网络层的知识点
date: 2024-09-23 
tag: 计算机网络
---



# 数据链路层知识点

## ARP协议

> 搞清楚ARP协议的用途是什么

参考书籍《图解TCP/IP 第五版》

### ARP协议概要

ARP协议可以根据目标IP地址找到下一跳的设备（如果目标主机在同一个链路上，那么就是目标主机，否则就是路由器）的MAC地址。ARP协议只适用于IPv4，不能用于IPv6，但IPv6可以用ICMPv6代替ARP发送邻居探索消息。

### ARP的工作机制

简单来说，就是从一个IP地址广播ARP请求包，目标IP地址将自身的MAC地址填入其中的ARP响应包返回到源IP地址

源IP地址的设备接收到ARP响应包后，建立一个IP-MAC地址的映射并存储在缓存表中。这样当下一次发送数据包时就可以直接从缓存表中读取出MAC地址，加快发送数据包的速度

不过MAC地址的缓存是有一定期限的，超过这个期限，缓存内容就被清除。这使得即使MAC地址与IP地址的映射关系发生变化，也能够正确地发送数据包给目标设备。

### RARP

RARP是ARP的逆过程，从MAC地址定位IP地址的一种协议。RARP主要依赖一个RARP服务器，在这个服务器上注册了许多设备的MAC地址与IP地址的映射

🌰：当主机A想要直到自己的IP地址时，就可以向RARP服务器发送一个RARP请求包，RARP服务器接收到请求包后，查看映射关系，将IP地址放入RARP响应包中并返回给主机A

![image-20240923144758648](https://raw.githubusercontent.com/lyydsheep/pic/main/202409231447673.png)